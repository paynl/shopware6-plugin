{% sw_extends '@Storefront/storefront/component/checkout/offcanvas-cart.html.twig' %}

{% block component_offcanvas_cart_actions_cart %}
    {{ parent() }}

    {% block paynl_paypal_ecs_button %}
        {% set expressOptions = {
            'clientId':'Ad37_s9hRiNiPtgdHxz0eGzN_1UWjkmU-GtDOJZgmuIUP6N-lzVkUVeEEthgYarcM6TPpQ4IL0i-fEUJ',
            'currency':'EUR'
        } %}

        <div class="btn-block"
             data-paynl-paypal-express-button="true"
             data-paynl-paypal-express-button-options="{{ expressOptions|json_encode|escape('html_attr') }}">
        </div>
    {% endblock %}

    {% if config('PaynlPaymentShopware6.config.paymentIdealExpressShoppingCartEnabled') and page.cart.price.totalPrice > 0
        and ((config('PaynlPaymentShopware6.config.paymentIdealExpressCheckoutLoggedInCustomerEnabled') and context.customer.guest)
        or not context.customer)
    %}
        {% block utilities_offcanvas_paynl_ideal_express_button %}
            <div class="text-center mt-3">
                {% sw_include '@PaynlPaymentShopware6/storefront/component/checkout/ideal-express-button.html.twig' %}
            </div>
        {% endblock %}
    {% endif %}
